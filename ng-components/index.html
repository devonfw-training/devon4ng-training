<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Angular Components</title>
    <link rel="icon" href="../common/img/favicon.ico">

    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link rel="stylesheet" href="../node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../node_modules/reveal.js/css/theme/white.css">
    <link rel="stylesheet" href="../common/css/common.css">
    
    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../common/css/github-gist.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../node_modules/reveal.js/css/print/pdf.css' : '../node_modules/reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
  <section class="devon-link">
      <a href="http://devonfw.github.io" target="_blank"><img height="30px" src="../common/img/devon_logo_blue.png"></a>
  </section>
  <section class="angular-link">
      <a href="http://angular.io" target="_blank"><img height="50px" src="../common/img/angular.svg"></a>
  </section>
  <div class="devon reveal">
    <div class="slides">
      <section>
        <h1>Components</h1>
        <img class="reset" src="img/template-metadata-component.png">
        <p class="align_right"><small><a href="https://angular.io/guide/architecture-components">Angular Docs</a></small></p>
      </section>
      <section>
          <p>A <span class="highlight">component</span> controls a patch of screen called a view.</p>
          <p><span class="highlight">Component's application logic</span> is defined inside a <span class="highlight">class</span>. The class <span class="highlight">interacts</span> with the view through an API of <span class="highlight">properties and methods</span></p>
      </section>
      <section>
        <h3>Component Tree</h3>
        <img class="reset" src="img/component-tree.svg">
        <aside class="notes">
          Components of a web application form a tree structure just as regular HTML elements form a tree structure. <br>
          There can be multiple instances of the same component.
        </aside>
      </section>
      <section>
        <p>Angular <span class="highlight">creates, updates, and destroys components</span> as the user moves through the application. Your app can <span class="highlight">take action</span> at each moment in this lifecycle through optional <span class="highlight">lifecycle hooks</span></p>
      </section>
      <section>
        <h3>Lifecycle Hooks</h3>
        <img class="reset" height="550px" src="img/lifecycle-hooks.png">
        <a href="https://angular.io/guide/lifecycle-hooks" class="references" target="_blank">Angular Docs</a>
        <aside class="notes">
          Color explanation: <br>
          High saturation events are called once per component instance. Low saturation events are called multiple times.<br>
          Green lifecycle hooks occur when the component itself enters the corresponding state. Blue lifecycle hooks occur when the child elements enter the corresponding state.<br><br>
        </aside>
      </section>
      <section>
        <h2 class="no-text-transform">Component is just a class...</h2>
        <pre><code class="hljs typescript"  data-trim data-noescape>
export class BookDetailsComponent implements OnInit {
  currentBook = new Book();

  ngOnInit(): void {
    this.currentBook.author = 'John Example';
    this.currentBook.title = 'Angular in a nutshell';
  }
}
            </code></pre>
        </section>
        <section>
            <h2 class="no-text-transform">...which has an API for the view</h2>
            <pre><code class="hljs typescript"  data-trim data-noescape>
export class BookDetailsComponent implements OnInit {
  <mark>currentBook = new Book();</mark>

  ngOnInit(): void {
    this.currentBook.author = 'John Example';
    this.currentBook.title = 'Angular in a nutshell';
  }
}
            </code></pre>
            <aside class="notes">
              'currentBook' is publicly accessible.<br>
              Class variables are public by default.<br>
              Why? Because it is valid EcmaScript and the original version did not have visibility modifiers. All object properties were public.
            </aside>
        </section>
        <section>
            <h2 class="no-text-transform">...and can take action in the lifecycle</h2>
            <pre><code class="hljs typescript"  data-trim data-noescape>
export class BookDetailsComponent implements <mark>OnInit</mark> {
  currentBook = new Book();

  <mark>ngOnInit(): void {
    this.currentBook.author = 'John Example';
    this.currentBook.title = 'Angular in a nutshell';
  }</mark>
}
            </code></pre>
            <aside class="notes">
              What happens if 'implements OnInit' is missing? Still works as long as 'ngOnInit()' is present. At runtime interfaces are gone anyway.
            </aside>
        </section>
        <section>
            <img class="reset" src="img/template.png">
            <p>A template is <span class="highlight">a form of HTML</span> that tells Angular how to <span class="highlight">render the component</span>.</p>
            <p>A template looks like <span class="highlight">regular HTML</span> with <span class="highlight"><i>Angularized</i> markup</span> which uses Angular's <span class="highlight">template syntax.</span></p>
        </section>
        <section>
            <h2 class="no-text-transform">Regular HTML...</h2>
            <pre><code class="hljs html" data-trim data-noescape>
&lt;div&gt;
  &lt;label&gt;Author:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.author}}&lt;/span&gt;
&lt;/div&gt;
&lt;div&gt;
  &lt;label&gt;Title:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.title}}&lt;/span&gt;
&lt;/div&gt;
            </code></pre>
        </section>
        <section>
            <h2 class="no-text-transform">...with Angular's template syntax</h2>
            <pre><code class="hljs html" data-trim data-noescape>
&lt;div&gt;
  &lt;label&gt;Author:&lt;/label&gt;&nbsp;&lt;span&gt;<mark>{{currentBook.author}}</mark>&lt;/span&gt;
&lt;/div&gt;
&lt;div&gt;
  &lt;label&gt;Title:&lt;/label&gt;&nbsp;&lt;span&gt;<mark>{{currentBook.title}}</mark>&lt;/span&gt;
&lt;/div&gt;
            </code></pre>
        </section>
        <section>
            <img class="reset" src="img/metadata.png">
            <p>Metadata tells Angular <span class="highlight">where to get the major building blocks</span> you specify for the component.</p>
            <p>In TypeScript metadata can be <span class="highlight">attached to the component class</span> by using a <span class="highlight">decorator</span>.</p>
        </section>
        <section>
            <h2 class="no-text-transform">...which has an API for the view</h2>
            <pre><code class="hljs typescript" data-trim  data-noescape>
@Component({
  selector: 'app-book-details',
  template:
    `&lt;div&gt;
       &lt;label&gt;Author:&lt;/label&gt;&nbsp;&lt;span&gt{{currentBook.author}}&lt;/span&gt;
     &lt;/div&gt;
     &lt;div&gt;
       &lt;label&gt;Title:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.title}}&lt;/span&gt;
     &lt;/div&gt;`
})
export class BookDetailsComponent implements OnInit {
...
}
            </code></pre>
        </section>
        <section>
            <p class="no-text-transform"><span class="highlight">selector</span> tells Angular to <span class="highlight">create and insert an instance of this component</span> where it finds a <span class="highlight">&lt;app-book-details&gt; tag</span> in parent HTML</p>
            <pre><code class="hljs typescript" data-trim  data-noescape>
@Component({
  <mark>selector: 'app-book-details'</mark>,
  template:
    `&lt;div&gt;
       &lt;label&gt;Author:&lt;/label&gt;&nbsp;&lt;span&gt{{currentBook.author}}&lt;/span&gt;
     &lt;/div&gt;
     &lt;div&gt;
       &lt;label&gt;Title:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.title}}&lt;/span&gt;
     &lt;/div&gt;`
})
export class BookDetailsComponent implements OnInit {
...
}
            </code></pre>
        </section>
        <section>
            <p class="no-text-transform"><span class="highlight">Templates can be inlined</span>, e.g. using ES2015 template literals (multi line strings marked with backticks) or ...</p>
            <pre><code class="hljs typescript" data-trim  data-noescape>
@Component({
  selector: 'app-book-details',
  <mark>template:
    `&lt;div&gt;
       &lt;label&gt;Author:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.author}}&lt;/span&gt;
     &lt;/div&gt;
     &lt;div&gt;
       &lt;label&gt;Title:&lt;/label&gt;&nbsp;&lt;span&gt;{{currentBook.title}}&lt;/span&gt;
     &lt;/div&gt;`</mark>
})
export class BookDetailsComponent implements OnInit {
...
}
            </code></pre>
        </section>
        <section>
            <p class="no-text-transform">...extracted to a <span class="highlight">separate file</span> and imported using file path</p>
            <pre><code class="hljs typescript" data-trim  data-noescape>
@Component({
  selector: 'app-book-details',
  <mark>templateUrl: './book-details.component.html'</mark>
})
export class BookDetailsComponent implements OnInit {
...
}
            </code></pre>
        </section>
        <section>
            <h2 class="no-text-transform">Component CSS Styles</h2>
            <p>Their selectors only <span class="highlight">apply within the template of that component</span></p>
            <p>Their class names and selectors <span class="highlight">do not collide</span> with ones used elsewhere in the application</p>
            <p>Component's styles <span class="highlight">cannot be changed</span> by changes to styles elsewhere in the application</p>

        </section>
        <section>
            <p><span class="highlight">Pseudo selectors</span>, e.g. <span class="monospace highlight">:host</span>, from <span class="highlight">shadow DOM</span> style scoping are available</p>
            <pre><code class="hljs css" data-trim data-noescape>
:host {
  display: block;
  font-size: x-large;
}
:host label {
  font-weight: bold;
}
            </code></pre>
            <a href="https://angular.io/guide/component-styles" class="references" target="_blank">Angular Docs</a>
            <aside class="notes">
              ":host" is used to style the angular component itself. Other styles apply to the elements inside of the component, but not the component itself.
            </aside>
        </section>
        <section>
            <p class="no-text-transform"></p>
            <pre><code class="hljs typescript" data-trim  data-noescape>
@Component({
  selector: 'app-book-details',
  template: ...,
  <mark>styleUrls: ['./book-details.component.css']</mark>
})
export class BookDetailsComponent implements OnInit {
...
}
            </code></pre>
            <aside class="notes">
              Note that styleUrls expects an array of URLs. Therefore you can have multiple style documents for one component (but it is uncommon)
            </aside>
        </section>
    </div>
</div>

<script src="../node_modules/reveal.js/js/reveal.js"></script>
<script src="../common/reveal-config.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({ ...revealConfig });
</script>
</body>
</html>
