<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Angular Modules</title>
    <link rel="icon" href="../common/img/favicon.ico">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
    <link rel="stylesheet" href="../node_modules/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="../node_modules/reveal.js/css/theme/white.css" id="theme">
    <link rel="stylesheet" href="../common/css/common.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="../common/css/github-gist.css">
    <link rel="stylesheet" href="./styles/own.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? '../node_modules/reveal.js/css/print/pdf.css' : '../node_modules/reveal.js/css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
</head>
<body>
<section class="devon-link">
    <a href="http://devonfw.github.io" target="_blank"><img height="30px" src="../common/img/devon_logo_blue.png"></a>
</section>
<section class="angular-link">
    <a href="http://angular.io" target="_blank"><img height="50px" src="../common/img/angular.svg"></a>
</section>
<div class="devon reveal">
    <div class="slides">
        <section>
            <h2>Modules</h2>
            <p class="italic-font">Structuring Angular applications</p>
            <img class="module-header-image" src="./img/project-sample-module-separation.png" alt="module separation example">
		</section>
        <section>
            <h3>Definition</h3>
            <p>Angular modules consolidate <strong>components, directives and pipes</strong> into cohesive blocks of functionality, each focused on a <strong>feature area</strong>, application <strong>business domain</strong>, workflow, or common collection of utilities.</p>
            <div class="margin_top_30">
                <p class="align_right"><small><a href="https://angular.io/docs/ts/latest/guide/ngmodule.html#!#angular-modularity">Angular Docs</a></small></p>
            </div>
            <aside class="notes">
                A module contains different technical parts belonging to specific business area.
            </aside>
        </section>
        <section>
            <section>
                <h3>Simple module</h3>
                <p>An Angular module is a <strong>class decorated with @NgModule</strong> metadata.</p>
                <pre><code data-trim class="typescript code-without-max-height">

@NgModule({
// applications modules, angular modules, libraries, etc.
imports: [],

// components, directives and pipes which should be made public
// 're-export' imported modules
exports: [],

// components, directives and pipes which belong to the module
// -> they can only be used in components templates inside this modules
declarations: [],

// services which should be useable by any other module that imports this "TestModule"
providers: []
})
export class TestModule { }</code></pre>
                <aside class="notes">
                    Most imported slide of this deck, needed for the exercise. <br>
                    The class itself is mostly empty. The important information is in the decorator.<br>
                    The different arrays describe the content of the module, separated in dependencies, components (and other code) available for other modules, internal code and services to be provided for dependency injection
                </aside>
            </section>
            <section>
                <h3>... example</h3>
                <pre><code class="typescript">@NgModule({
  imports: [CommonModule],
  exports: [CommonModule, BookListComponent],
  declarations: [BookListComponent, BookDetailComponent],
  providers: [BookService],
})
export class BookModule { }</code></pre>
                <ul class="ul-small">
                    <li>Angular <strong>Common module is imported</strong> - e.g. *ngIf can be used in templates</li>
                    <li>Common module is exported - so a module importing BookModule can <strong>use Common without importing it</strong></li>
                    <li>BookListComponent can be <strong>used inside templates in modules importing BookModule</strong> - 'it's public'</li>
                    <li>BookListComponent and BookDetailComponent are declared and can therefore be <strong>used inside modules templates</strong> - good practice if for instance BookDetailComponent is part of BookListComponent and should <strong>never be used alone</strong></li>
                    <li>BookService is made <strong>application wide</strong> available - can be used via DI</li>
                </ul>
            </section>
        </section>
        <section>
            <h3>Application Start (1/2)</h3>
            <p>AppModule is the top level Module which gets bootstrapped</p>
            <pre><code class="typescript">import { NgModule }      from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppComponent }  from './app.component';

@NgModule({
  imports:      [ BrowserModule ],
  declarations: [ AppComponent ],
  // top level component to insert into index.html
  bootstrap:    [ AppComponent ]
})
export class AppModule { }</code></pre>
<small>app.module.ts</small>
            <aside class="notes">
                The root module is called AppModule by convention. It contains the root component that contains all other components displayed by the application.<br>
                The root module usually contains no business logic or components, but it provides services that are supposed to be available for the entire application like logging or a config service.
            </aside>
        </section>
        <section>
            <h3>Application Start (2/2)</h3>
            <pre><code style="overflow:hidden" data-trim class="typescript">
import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';
import { AppModule }              from './app.module';

platformBrowserDynamic().bootstrapModule(AppModule);</code></pre>
<small>main.ts</small>
            <pre><code class="html">&lt;my-app&gt;Loading ...&lt;/my-app&gt;</code></pre>
<small>index.html</small>
        <pre><code class="typescript">import { Component } from '@angular/core';

@Component({
  selector: 'my-app',
})
export class AppComponent { }</code></pre>
            <small>app.component.ts</small>
            <aside class="notes">
                After defining the root module we need to start the actual bootstrapping of the application. By convention we do that in the main.ts file.
                We need to include the root component in our index.html to indicate where in the Html our application is supposed to be rendered.
            </aside>
        </section>
        <section>
            <h3>Core and Shared Module</h3>
            <ul>
                <li>Core- and SharedModule are <strong>modules with conventions</strong></li>
                <li>CoreModule has <strong>single use components</strong> - e.g. NavigationComponent, SpinnerComponent, etc. to be <strong>used inside AppComponents template</strong></li>
                <li>CoreModule is <strong>only imported in AppModule</strong></li>
                <li>SharedModule has common components, directives and pipes. <strong>Imported by multiple modules</strong></li>
            </ul>
            <div class="margin_top_30">
                <p class="align_right"><small><a href="https://angular.io/styleguide">Angular Docs</a></small></p>
            </div>
        </section>
        <section>
            <p>Default Application Structure from <a href="https://angular.io/styleguide#!#04-06">Angular Docs</a></p>
            <iframe id="default-structure-iframe" src="./default-structure/index.html" frameborder="0"></iframe>
            <aside class="notes">
                "heroes" and "villains" are examples for modules for specific business areas also called feature modules. "core" and "shared" are the mentioned modules with conventions.<br>
                feature modules can contain "core" and "shared" sub modules and feature modules.
            </aside>
        </section>
    </div>
</div>

<script src="../node_modules/reveal.js/js/reveal.js"></script>
<script src="../common/reveal-config.js"></script>

<script>
    // More info https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({ ...revealConfig });
</script>
</body>
</html>
